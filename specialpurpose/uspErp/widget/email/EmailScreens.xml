<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://ofbiz.apache.org/Widget-Screen" xsi:schemaLocation="http://ofbiz.apache.org/Widget-Screen http://ofbiz.apache.org/dtds/widget-screen.xsd">

    <screen name="emailTemplate">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_VIEW"/>
            </condition>
            <actions>
                <set field="appMenuNm" value="AdminMainAppBar"/>
                <set field="headerItem" value="emailManagement"/>
                <set field="titleProperty" value="Email Management"/>
                <set field="tabButtonItem" value="emailTemplate"/>
                <set field="contentTypeId" value="USP_EMAIL_TEMPLATE"/>
            </actions>
            <widgets>
                <decorator-screen name="UspErpCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                <include-menu name="EmailButtonBar" location="component://uspErp/widget/UspErpMenus.xml"/>
                            </widgets>
                        </section>
                        <section>
                            <widgets>
                                <platform-specific>
                                    <html><html-template location="component://uspErp/template/email/emailTemplate.ftl"/></html>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="createEmailDetailForm">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_VIEW"/>
            </condition>
            <actions>
                <set field="curdType" value="C"/>
                <set field="headerItem" value="emailManagement"/>
                <set field="titleProperty" value="Create Email Template"/>
                <set field="tabButtonItem" value="emailTemplate"/>
            </actions>
            <widgets>
                <include-screen name="emailTemplateDetail" />
            </widgets>
        </section>
    </screen>
    <screen name="updateEmailDetailForm">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_VIEW"/>
            </condition>
            <actions>
                <set field="curdType" value="RU"/>
                <set field="headerItem" value="emailManagement"/>
                <set field="titleProperty" value="Email Template Detail"/>
                <set field="tabButtonItem" value="emailTemplate"/>
            </actions>
            <widgets>
                <include-screen name="emailTemplateDetail" />
            </widgets>
        </section>
    </screen>
    <screen name="emailTemplateDetail">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_VIEW"/>
            </condition>
            <actions>
                <set field="appMenuNm" value="AdminMainAppBar"/>
            </actions>
            <widgets>
                <decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                <include-menu name="EmailButtonBar" location="component://uspErp/widget/UspErpMenus.xml"/>
                            </widgets>
                        </section>
                        <section>
                            <actions>
                                <script location="component://uspErp/groovyScript/email/EmailTemplateDetail.groovy"/>
                            </actions>
                            <widgets>
                                <platform-specific>
                                    <html><html-template location="component://uspErp/template/email/emailTemplateCRUD.ftl"/></html>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="sendTestEmailForm">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_VIEW"/>
            </condition>
            <actions>
                <set field="appMenuNm" value="AdminMainAppBar"/>
                <set field="headerItem" value="emailManagement"/>
                <set field="titleProperty" value="Email Management"/>
                <set field="tabButtonItem" value="emailTemplate"/>
                <set field="contentTypeId" value="USP_EMAIL_TEMPLATE"/>
                <set field="emailType" value="PRDS_TEST_EMAIL"/>
            </actions>
            <widgets>
                <decorator-screen name="UspErpCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                <include-menu name="EmailButtonBar" location="component://uspErp/widget/UspErpMenus.xml"/>
                            </widgets>
                        </section>
                        <section>
                            <widgets>
                                <platform-specific>
                                    <html><html-template location="component://uspErp/template/email/sendTestEmailForm.ftl"/></html>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="emailConfiguration">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_VIEW"/>
            </condition>
            <actions>
                <set field="appMenuNm" value="AdminMainAppBar"/>
                <set field="headerItem" value="emailManagement"/>
                <set field="titleProperty" value="Email Management"/>
                <set field="tabButtonItem" value="emailConfiguration"/>
            </actions>
            <widgets>
                <decorator-screen name="UspErpCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                <include-menu name="EmailButtonBar" location="component://uspErp/widget/UspErpMenus.xml"/>
                            </widgets>
                        </section>
                        <section>
                            <widgets>
                                <platform-specific>
                                    <html><html-template location="component://uspErp/template/email/emailConfiguration.ftl"/></html>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="emailParameter">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_VIEW"/>
            </condition>
            <actions>
                <set field="appMenuNm" value="AdminMainAppBar"/>
                <set field="headerItem" value="emailManagement"/>
                <set field="titleProperty" value="Email Management"/>
                <set field="tabButtonItem" value="emailParameter"/>
            </actions>
            <widgets>
                <decorator-screen name="UspErpCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                <include-menu name="EmailButtonBar" location="component://uspErp/widget/UspErpMenus.xml"/>
                            </widgets>
                        </section>
                        <section>
                            <widgets>
                                <platform-specific>
                                    <html><html-template location="component://uspErp/template/email/emailParameter.ftl"/></html>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

</screens>