<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns="http://ofbiz.apache.org/Widget-Screen" xsi:schemaLocation="http://ofbiz.apache.org/Widget-Screen http://ofbiz.apache.org/dtds/widget-screen.xsd">

    <!-- Admin Main 화면 -->
    <screen name="adminMain">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_ADMIN"/>
            </condition>
            <actions>
                <set field="headerItem" value="main"/>
                <set field="titleProperty" value="Admin Main"/>
                <set field="appMenuNm" value="AdminMainAppBar"/>
                <!-- <entity-one entity-name="PoMaster" value-field="poMaster"/> -->
            </actions>
            <widgets>
                <decorator-screen name="UspErpCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <label text="Hello Admin World!! :)"/>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <!-- Employee Management Screen -->
    <screen name="employeeManagement">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_ADMIN"/>
            </condition>
            <actions>
                <set field="appMenuNm" value="AdminMainAppBar"/>
                <set field="headerItem" value="employeeManagement"/>
                <set field="titleProperty" value="Employee Management"/>
                <set field="initializedCB" value ="N"/>
                <set field="searchCriteriaKey" value ="SEARCH_CRITERIA_USER"/>
            </actions>
            <widgets>
                <decorator-screen name="UspErpCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <actions>
                                <script location="component://uspErp/groovyScript/admin/EmployeeManagement.groovy"/>
                            </actions>
                            <widgets>
                                <platform-specific>
                                    <html><html-template location="component://uspErp/template/admin/employeeManagement.ftl"/></html>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="createEmployeeDetailForm">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_ADMIN"/>
            </condition>
            <actions>
                <set field="curdType" value="C"/>
                <set field="headerItem" value="employeeManagement"/>
                <set field="titleProperty" value="Create Employee"/>
            </actions>
            <widgets>
                <include-screen name="commonEmployeeDetailForm" />
            </widgets>
        </section>
    </screen>
    <screen name="updateEmployeeDetailForm">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_ADMIN"/>
            </condition>
            <actions>
                <set field="curdType" value="RU"/>
                <set field="headerItem" value="employeeManagement"/>
                <set field="titleProperty" value="Employee Detail"/>
            </actions>
            <widgets>
                <include-screen name="commonEmployeeDetailForm" />
            </widgets>
        </section>
    </screen>
    <screen name="commonEmployeeDetailForm">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_ADMIN"/>
            </condition>
            <actions>
                <set field="appMenuNm" value="AdminMainAppBar"/>
            </actions>
            <widgets>
                <decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                <platform-specific>
                                    <html><html-template location="component://uspErp/template/admin/employeeCRUD.ftl"/></html>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <!-- Employee Management Screen -->

    <!-- Security Group Management Screen -->
    <screen name="securityGroupManagement">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_ADMIN"/>
            </condition>
            <actions>
                <set field="appMenuNm" value="AdminMainAppBar"/>
                <set field="headerItem" value="securityGroupManagement"/>
                <set field="titleProperty" value="Security Group Management"/>
                <set field="initializedCB" value ="N"/>
                <set field="searchCriteriaKey" value ="SEARCH_CRITERIA_USER"/>
            </actions>
            <widgets>
                <decorator-screen name="UspErpCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                <platform-specific>
                                    <html><html-template location="component://uspErp/template/admin/SecurityGroupManagement.ftl"/></html>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <!-- Security Group Management Screen -->

    <!-- Permission Management Screen -->
    <screen name="permissionManagement">
        <section>
            <condition>
                <if-has-permission permission="USPERP" action="_ADMIN"/>
            </condition>
            <actions>
                <set field="appMenuNm" value="AdminMainAppBar"/>
                <set field="headerItem" value="permissionManagement"/>
                <set field="titleProperty" value="Permission Management"/>
                <set field="initializedCB" value ="N"/>
                <set field="searchCriteriaKey" value ="SEARCH_CRITERIA_USER"/>
            </actions>
            <widgets>
                <decorator-screen name="UspErpCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                <platform-specific>
                                    <html><html-template location="component://uspErp/template/admin/permissionManagement.ftl"/></html>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <!-- Permission Management Screen -->

</screens>